// detect if a ray has hit a sphere
float hitSphere(vec3 center, float radius, vec4 rayDirection, vec4 rayOrigin)
{
	// calculate if the ray hits a sphere
    vec3 oc = rayOrigin.xyz - center;
    float a = dot(rayDirection, rayDirection);
    float half_b = dot(oc, rayDirection.xyz);
    float c = dot(oc, oc) - radius * radius;
    float discriminant = half_b * half_b - a * c;
    
    // determine value for hit
    if (discriminant < 0.0) {
        return -1.0;
    }
    else {
        return (-half_b - sqrt(discriminant)) / a;
    }
}